# ๐ค MT5 Middleware Server - ุฎุงุฏู MetaTrader 5 ุงููุณูุท

<div dir="rtl">

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุฎุงุฏู API ูุณูุท (Middleware) ูุนูู ูุฌุณุฑ ุจูู ุชุทุจููุงุช ุงูููุจ/ูููุงุก ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูููุตุฉ MetaTrader 5 ููุชุฏุงูู ุงูุขูู.

### ๐ฏ ุงููุฏู

ุชูููู ูููุงุก ุงูุฐูุงุก ุงูุงุตุทูุงุนู (ูุซู Manus, Claude, ChatGPT) ูู ุงูุชุญูู ูู MT5 ุนุจุฑ ูุงุฌูุฉ REST API ุจุณูุทุฉ.

---

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                         ุงูููุฒุงุช ุงููุชุงุญุฉ                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโฃ
โ                                                                   โ
โ  ๐ ุฅุฏุงุฑุฉ ุงูุงุชุตุงู       โโโบ ุงูุงุชุตุงู ููุทุน ุงูุงุชุตุงู ุจู MT5         โ
โ  ๐ ุงุฎุชุจุงุฑ ุงูุงุณุชุฑุงุชูุฌูุงุช โโโบ ุชุดุบูู Backtest ุชููุงุฆูุงู            โ
โ  ๐ค ุงููุณุชุดุงุฑูู ุงูุฎุจุฑุงุก   โโโบ ุงุณุชุนุฑุงุถ ูุงุฆูุฉ EAs ุงููุชุงุญุฉ          โ
โ  ๐ฐ ูุนูููุงุช ุงูุญุณุงุจ      โโโบ ุงูุฑุตูุฏุ ุงูุฃุฑุจุงุญุ ุงููุงูุด            โ
โ  ๐ ุจูุงูุงุช ุงูุณูู        โโโบ ูุงุฆูุฉ ุงูุฑููุฒ ุงููุชุงุญุฉ               โ
โ  ๐ CORS ููุนูู          โโโบ ุงูุชูุงุตู ูู ุชุทุจููุงุช ุงูููุจ            โ
โ                                                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ูููู ุงููุดุฑูุน

```
mt5_middleware/
โโโ main.py                      # ๐ฏ ุงูุฎุงุฏู ุงูุฑุฆูุณู (FastAPI)
โโโ examples.py                  # ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู
โโโ requirements.txt             # ๐ฆ ุงููุชุทูุจุงุช
โโโ README.md                    # ๐ ุงูุชูุซูู ุงูุฑุฆูุณู
โโโ WINDOWS_SETUP_GUIDE.md       # ๐ฅ๏ธ ุฏููู ุงูุชุดุบูู ุนูู Windows
โโโ start_server.bat             # โก ุชุดุบูู ุณุฑูุน (Windows)
โโโ install_requirements.bat     # ๐ฆ ุชุซุจูุช ุงููุชุทูุจุงุช (Windows)
```

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุนูู Windows:

#### 1๏ธโฃ ุชุซุจูุช ุงููุชุทูุจุงุช
ุงููุฑ ูุฑุชูู ุนูู: `install_requirements.bat`

#### 2๏ธโฃ ุชุดุบูู ุงูุฎุงุฏู
ุงููุฑ ูุฑุชูู ุนูู: `start_server.bat`

#### 3๏ธโฃ ูุชุญ ุงูุชูุซูู
ุงูุชุญ ุงููุชุตูุญ: http://localhost:8000/docs

### ูู ุณุทุฑ ุงูุฃูุงูุฑ:

```bash
# ุชุซุจูุช ุงููุชุทูุจุงุช
pip install -r requirements.txt

# ุนูู Windows ููุท
pip install MetaTrader5

# ุชุดุบูู ุงูุฎุงุฏู
python main.py
```

---

## ๐ก ููุงุท ุงูููุงูุฉ (API Endpoints)

| ุงูููุทุฉ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `/` | GET | ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ููุนูููุงุช ุงูุฎุงุฏู |
| `/health` | GET | ูุญุต ุญุงูุฉ ุงูุฎุงุฏู |
| `/docs` | GET | ุงูุชูุซูู ุงูุชูุงุนูู (Swagger UI) |
| `/connect` | POST | ุงูุงุชุตุงู ุจู MT5 |
| `/disconnect` | POST | ูุทุน ุงูุงุชุตุงู |
| `/run_backtest` | POST | ุชุดุบูู ุงุฎุชุจุงุฑ ุงุณุชุฑุงุชูุฌูุฉ |
| `/run_backtest_sync` | POST | ุชุดุบูู ุงุฎุชุจุงุฑ (ูุชุฒุงูู) |
| `/list_experts` | POST | ูุงุฆูุฉ ุงููุณุชุดุงุฑูู ุงูุฎุจุฑุงุก |
| `/list_experts_default` | GET | ูุงุฆูุฉ EAs (ูุณุงุฑ ุงูุชุฑุงุถู) |
| `/account_info` | GET | ูุนูููุงุช ุงูุญุณุงุจ |
| `/symbols` | GET | ูุงุฆูุฉ ุงูุฑููุฒ ุงููุชุงุญุฉ |

---

## ๐ง ููู ูุนูู Strategy Testerุ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                      ุขููุฉ ุงูุนูู                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                             โ
โ  1. ุทูุจ POST /run_backtest                                 โ
โ           โ                                                 โ
โ  2. ุฅูุดุงุก ููู test_config.ini                              โ
โ           โ                                                 โ
โ  3. ุชุดุบูู: terminal64.exe /config:config.ini               โ
โ           โ                                                 โ
โ  4. MT5 ููุฑุฃ ุงูุฅุนุฏุงุฏุงุช ููุดุบู Strategy Tester               โ
โ           โ                                                 โ
โ  5. ุงููุชุงุฆุฌ ุชุธูุฑ ูู MT5 + ููู ุงูุชูุฑูุฑ                      โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ููุงุฐุง ููู .iniุ**  
ูุฃู Python MT5 API ูุง ูุฏุนู ุชุดุบูู Strategy Tester ูุจุงุดุฑุฉุ ูุฐูู ูุณุชุฎุฏู ุทุฑููุฉ ุณุทุฑ ุงูุฃูุงูุฑ.

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุงุชุตุงู ุจู MT5

```python
import requests

response = requests.post("http://localhost:8000/connect", json={
    "terminal_path": "C:/Program Files/MetaTrader 5/terminal64.exe"
})
print(response.json())
```

### ุชุดุบูู Backtest

```python
response = requests.post("http://localhost:8000/run_backtest", json={
    "terminal_path": "C:/Program Files/MetaTrader 5/terminal64.exe",
    "expert_advisor": "ExpertMACD",
    "symbol": "EURUSD",
    "period": "H1",
    "from_date": "2024.01.01",
    "to_date": "2024.06.30",
    "deposit": 10000,
    "model": 0
})
print(response.json())
```

### ูู JavaScript

```javascript
const response = await fetch('http://localhost:8000/account_info');
const data = await response.json();
console.log(data);
```

---

## ๐ ุงููุตูู ุนุจุฑ ุงูุฅูุชุฑูุช (ููุฐูุงุก ุงูุงุตุทูุงุนู)

### ุงุณุชุฎุฏุงู ngrok:

```bash
# 1. ุชุดุบูู ุงูุฎุงุฏู
python main.py

# 2. ูู ูุงูุฐุฉ ุฃุฎุฑูุ ุชุดุบูู ngrok
ngrok http 8000

# 3. ุณุชุญุตู ุนูู ุฑุงุจุท ูุซู:
# https://abc123.ngrok.io
```

ุงูุขู ูููู ูู **Manus** ุฃู ุฃู AI ุงููุตูู ุนุจุฑ ูุฐุง ุงูุฑุงุจุท!

```
๐ค Manus โ ๐ Internet โ ๐ ngrok โ ๐ฅ๏ธ Your PC โ ๐ MT5
```

---

## ๐๏ธ ุงููุชุทูุจุงุช

| ุงููุชุทูุจ | ุงูุฅุตุฏุงุฑ | ุงูููุงุญุธุงุช |
|---------|---------|-----------|
| Python | 3.8+ | ูุทููุจ |
| FastAPI | 0.104+ | ููุซุจุช ุชููุงุฆูุงู |
| Uvicorn | 0.24+ | ููุซุจุช ุชููุงุฆูุงู |
| MetaTrader5 | 5.0.45+ | Windows ููุท |
| MT5 Platform | ุฃู ุฅุตุฏุงุฑ | ูุซุจุช ูููุนูู |

---

## ๐ ุงูุชูุซูู ุงููุงูู

- **ุฏููู Windows**: [WINDOWS_SETUP_GUIDE.md](mt5_middleware/WINDOWS_SETUP_GUIDE.md)
- **ุงูุชูุซูู ุงูุฑุฆูุณู**: [README.md](mt5_middleware/README.md)
- **ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู**: [examples.py](mt5_middleware/examples.py)

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. โ ุงูุฎุงุฏู ูุนูู ุนูู **Windows ููุท** (ุจุณุจุจ MT5)
2. โ ุฃุบูู MT5 ูุจู ุงูุงุชุตุงู ุนุจุฑ API
3. โ ุงุณุชุฎุฏู `/` ูู ุงููุณุงุฑุงุช ุจุฏูุงู ูู `\`
4. โ๏ธ ูุง ุชุนุฑุถ ุงูุฎุงุฏู ููุฅูุชุฑูุช ูุจุงุดุฑุฉ ุจุฏูู ุญูุงูุฉ
5. โ๏ธ ุงุณุชุฎุฏู ngrok ุฃู VPN ูููุตูู ุงูุขูู

---

## ๐ ุงูุฃูุงู

```
โ๏ธ ุชุญุฐูุฑุงุช ุฃูููุฉ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

โ ูุง ุชุดุงุฑู ุจูุงูุงุช ุงูุฏุฎูู ูู ุงูููุฏ
โ ูุง ุชุนุฑุถ ุงูุฎุงุฏู ููุฅูุชุฑูุช ูุจุงุดุฑุฉ
โ ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููููุงุช ุงููุฑูุฑ
โ ุงุณุชุฎุฏู ngrok ุฃู VPN
โ ูููุฏ CORS ูู ุงูุฅูุชุงุฌ
```

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจูุณุงููุงุชูู! 

1. Fork ุงููุณุชูุฏุน
2. ุฃูุดุฆ ูุฑุน ููููุฒุฉ: `git checkout -b feature/amazing-feature`
3. Commit ุงูุชุบููุฑุงุช: `git commit -m 'ุฅุถุงูุฉ ููุฒุฉ ุฑุงุฆุนุฉ'`
4. Push ูููุฑุน: `git push origin feature/amazing-feature`
5. ุงูุชุญ Pull Request

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุฃุบุฑุงุถ ุงูุชุนููููุฉ. ุงุณุชุฎุฏูู ุนูู ูุณุคูููุชู ุงูุฎุงุตุฉ.

---

## ๐ ุงูุฏุนู

ูุงุฌูุช ูุดููุฉุ

1. ุฑุงุฌุน [WINDOWS_SETUP_GUIDE.md](mt5_middleware/WINDOWS_SETUP_GUIDE.md)
2. ุชุญูู ูู ููู ุงูุณุฌู: `mt5_server.log`
3. ุชุฃูุฏ ูู ุฅุบูุงู MT5 ูุจู ุงูุงุชุตุงู
4. ุฌุฑุจ ุชุดุบูู cmd ูู Administrator

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### 1๏ธโฃ ูููู AI ููุชุฏุงูู
```
AI Agent โ HTTP Request โ MT5 Server โ MetaTrader 5
```

### 2๏ธโฃ ููุญุฉ ุชุญูู ููุจ
```
Web Dashboard โ REST API โ MT5 Server โ Trading Platform
```

### 3๏ธโฃ ุงุฎุชุจุงุฑ ุงุณุชุฑุงุชูุฌูุงุช ูุชุนุฏุฏุฉ
```python
for symbol in ["EURUSD", "GBPUSD", "USDJPY"]:
    run_backtest(symbol=symbol)
```

---

<div align="center">

**ุตููุน ุจู โค๏ธ ูููุชุฏุงูููู ุงูุนุฑุจ**

โญ ุฅุฐุง ุฃุนุฌุจู ุงููุดุฑูุนุ ูุง ุชูุณู ูุถุน ูุฌูุฉ!

</div>

</div>
