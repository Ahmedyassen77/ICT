# ๐ฅ๏ธ ุฏููู ุชุดุบูู ุฎุงุฏู MT5 ุนูู Windows

<div dir="rtl">

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู ุชููุฑ:

| ุงููุชุทูุจ | ุงููุตู |
|---------|-------|
| โ Windows 10/11 | ูุธุงู ุงูุชุดุบูู |
| โ Python 3.8+ | ูุบุฉ ุงูุจุฑูุฌุฉ |
| โ MetaTrader 5 | ููุตุฉ ุงูุชุฏุงูู ูุซุจุชุฉ ูููุนููุฉ |
| โ ุญุณุงุจ ุชุฏุงูู | ุญูููู ุฃู ุชุฌุฑูุจู (Demo) |

---

## ๐ ุฎุทูุงุช ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงูุฎุทูุฉ 1๏ธโฃ: ุชุซุจูุช Python

1. ุญููู Python ูู ุงููููุน ุงูุฑุณูู:
   ```
   https://www.python.org/downloads/
   ```

2. **ููู ุฌุฏุงู**: ุฃุซูุงุก ุงูุชุซุจูุชุ ุถุน ุนูุงูุฉ โ ุนูู:
   ```
   โ Add Python to PATH
   ```

3. ุชุฃูุฏ ูู ุงูุชุซุจูุช ุจูุชุญ Command Prompt:
   ```cmd
   python --version
   ```
   ูุฌุจ ุฃู ูุธูุฑ: `Python 3.x.x`

---

### ุงูุฎุทูุฉ 2๏ธโฃ: ุฅูุดุงุก ูุฌูุฏ ุงููุดุฑูุน

1. ุงูุชุญ Command Prompt (cmd) ุฃู PowerShell

2. ุฃูุดุฆ ูุฌูุฏ ูููุดุฑูุน:
   ```cmd
   mkdir C:\MT5_Middleware
   cd C:\MT5_Middleware
   ```

---

### ุงูุฎุทูุฉ 3๏ธโฃ: ุฅูุดุงุก ูููุงุช ุงููุดุฑูุน

#### ุงูููู ุงูุฃูู: `main.py`

ุงูุณุฎ ููุฏ ุงูุฎุงุฏู ุงููุงูู (ูู ุงูููู main.py ุงูุฐู ุฃูุดุฃูุงู) ุฅูู:
```
C:\MT5_Middleware\main.py
```

#### ุงูููู ุงูุซุงูู: `requirements.txt`

ุฃูุดุฆ ููู `requirements.txt` ุจุงููุญุชูู:
```
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
pydantic>=2.5.0
httpx>=0.25.0
MetaTrader5>=5.0.45
```

---

### ุงูุฎุทูุฉ 4๏ธโฃ: ุชุซุจูุช ุงูููุชุจุงุช

```cmd
cd C:\MT5_Middleware
pip install -r requirements.txt
```

ุฃู ุชุซุจูุช ูู ููุชุจุฉ ุนูู ุญุฏุฉ:
```cmd
pip install fastapi uvicorn pydantic httpx MetaTrader5
```

---

### ุงูุฎุทูุฉ 5๏ธโฃ: ุฅูุฌุงุฏ ูุณุงุฑุงุช MT5

#### ูุณุงุฑ terminal64.exe:

ุนุงุฏุฉู ูููู ูู ุฃุญุฏ ูุฐู ุงููุณุงุฑุงุช:
```
C:\Program Files\MetaTrader 5\terminal64.exe
C:\Program Files (x86)\MetaTrader 5\terminal64.exe
```

**ููุชุฃูุฏ:**
1. ุงุถุบุท ุจุฒุฑ ุงููุฃุฑุฉ ุงูุฃููู ุนูู ุฃููููุฉ MT5
2. ุงุฎุชุฑ "Open file location"
3. ุงูุณุฎ ุงููุณุงุฑ ุงููุงูู

#### ูุณุงุฑ ูุฌูุฏ MQL5:

1. ุงูุชุญ MetaTrader 5
2. ุงุถุบุท `File` > `Open Data Folder`
3. ุณููุชุญ ูุฌูุฏ ูุซู:
   ```
   C:\Users\ุงุณูู\AppData\Roaming\MetaQuotes\Terminal\XXXXX\
   ```
4. ุฏุงุฎูู ุณุชุฌุฏ ูุฌูุฏ `MQL5`

---

### ุงูุฎุทูุฉ 6๏ธโฃ: ุชุดุบูู ุงูุฎุงุฏู

```cmd
cd C:\MT5_Middleware
python main.py
```

**ุฃู ุจุทุฑููุฉ ุจุฏููุฉ:**
```cmd
cd C:\MT5_Middleware
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

---

### ุงูุฎุทูุฉ 7๏ธโฃ: ุงูุชุฃูุฏ ูู ุงูุนูู

1. ุงูุชุญ ุงููุชุตูุญ ุนูู:
   ```
   http://localhost:8000/docs
   ```

2. ูุฌุจ ุฃู ุชุฑู ูุงุฌูุฉ Swagger UI ุงูุชูุงุนููุฉ

3. ุฌุฑุจ ููุทุฉ `/health`:
   ```
   http://localhost:8000/health
   ```

---

## ๐ ููููุฉ ุงูุงุชุตุงู ุจู MT5

### ูู ูุงุฌูุฉ Swagger:

1. ุงูุชุญ `http://localhost:8000/docs`
2. ุงุถุบุท ุนูู `POST /connect`
3. ุงุถุบุท `Try it out`
4. ุฃุฏุฎู ุงูุจูุงูุงุช:
   ```json
   {
     "terminal_path": "C:/Program Files/MetaTrader 5/terminal64.exe",
     "login": 12345678,
     "password": "ูููุฉ_ุงููุฑูุฑ",
     "server": "ุงุณู_ุงูุณูุฑูุฑ"
   }
   ```
5. ุงุถุบุท `Execute`

### ูู Python:

```python
import requests

response = requests.post("http://localhost:8000/connect", json={
    "terminal_path": "C:/Program Files/MetaTrader 5/terminal64.exe",
    "login": 12345678,
    "password": "your_password",
    "server": "YourBroker-Demo"
})

print(response.json())
```

---

## ๐ ุชุดุบูู Backtest

### ูู ูุงุฌูุฉ Swagger:

1. ุงูุชุญ `http://localhost:8000/docs`
2. ุงุถุบุท ุนูู `POST /run_backtest`
3. ุฃุฏุฎู ุงูุจูุงูุงุช:
   ```json
   {
     "terminal_path": "C:/Program Files/MetaTrader 5/terminal64.exe",
     "expert_advisor": "ExpertMACD",
     "symbol": "EURUSD",
     "period": "H1",
     "from_date": "2024.01.01",
     "to_date": "2024.06.30",
     "deposit": 10000,
     "leverage": 100,
     "model": 0,
     "optimization": 0,
     "visual": 0
   }
   ```
4. ุงุถุบุท `Execute`

---

## ๐ ุงูุณูุงุญ ุจุงููุตูู ูู ุงูุฅูุชุฑูุช

### ุงูุทุฑููุฉ 1: ngrok (ุงูุฃุณูู)

1. ุญููู ngrok:
   ```
   https://ngrok.com/download
   ```

2. ุดุบูู ุงูุฎุงุฏู ุฃููุงู:
   ```cmd
   python main.py
   ```

3. ูู ูุงูุฐุฉ ุฃุฎุฑูุ ุดุบูู ngrok:
   ```cmd
   ngrok http 8000
   ```

4. ุณุชุญุตู ุนูู ุฑุงุจุท ุนุงู ูุซู:
   ```
   https://abc123.ngrok.io
   ```

5. ุงูุขู ูููู ูู Manus ุฃู ุฃู AI ุงููุตูู ุนุจุฑ ูุฐุง ุงูุฑุงุจุท!

### ุงูุทุฑููุฉ 2: ูุชุญ ุงููููุฐ ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ

1. ุงูุชุญ Windows Firewall
2. ุฃุถู ูุงุนุฏุฉ ุฌุฏูุฏุฉ (Inbound Rule)
3. ุงุฎุชุฑ Port > TCP > 8000
4. ุงุณูุญ ุจุงูุงุชุตุงู (Allow)

โ๏ธ **ุชุญุฐูุฑ**: ูุฐุง ูุนุฑุถ ุฌูุงุฒู ููุฅูุชุฑูุช - ุงุณุชุฎุฏู ุจุญุฐุฑ!

---

## ๐ง ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ูุดููุฉ: "MetaTrader5 module not found"

```cmd
pip install MetaTrader5
```

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:
```cmd
pip uninstall MetaTrader5
pip install MetaTrader5
```

### ูุดููุฉ: "ูุดู ุงูุงุชุตุงู ุจู MT5"

1. ุชุฃูุฏ ูู ุฃู MT5 **ูุบูู** ูุจู ุงูุงุชุตุงู ุนุจุฑ API
2. ุชุฃูุฏ ูู ุตุญุฉ ุงููุณุงุฑ (ุงุณุชุฎุฏู `/` ุจุฏูุงู ูู `\`)
3. ุชุฃูุฏ ูู ุตุญุฉ ุจูุงูุงุช ุงูุฏุฎูู

### ูุดููุฉ: "ุงููููุฐ 8000 ูุณุชุฎุฏู"

ุงุณุชุฎุฏู ูููุฐ ุขุฎุฑ:
```cmd
uvicorn main:app --host 0.0.0.0 --port 8080
```

### ูุดููุฉ: "Permission denied"

ุดุบูู Command Prompt ูู Administrator

---

## ๐ ูููู ุงููุฌูุฏ ุงูููุงุฆู

```
C:\MT5_Middleware\
โโโ main.py              # ุงูุฎุงุฏู ุงูุฑุฆูุณู
โโโ requirements.txt     # ุงููุชุทูุจุงุช
โโโ examples.py          # ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู
โโโ configs\             # ูููุงุช ุงูุชูููู (ุชููุดุฃ ุชููุงุฆูุงู)
โ   โโโ backtest_*.ini
โโโ mt5_server.log       # ุณุฌู ุงูุฃุญุฏุงุซ
```

---

## ๐ ุชุดุบูู ุชููุงุฆู ุนูุฏ ุจุฏุก Windows

### ุฅูุดุงุก ููู batch:

ุฃูุดุฆ ููู `start_mt5_server.bat`:
```batch
@echo off
cd C:\MT5_Middleware
python main.py
pause
```

### ุฅุถุงูุชู ูู Startup:

1. ุงุถุบุท `Win + R`
2. ุงูุชุจ `shell:startup`
3. ุถุน ุงุฎุชุตุงุฑ ูููู `.bat` ููุงู

---

## ๐ฏ ุงูุงุณุชุฎุฏุงู ูุน Manus ุฃู AI Agent

ุจุนุฏ ุชุดุบูู ุงูุฎุงุฏู ู ngrok:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                             โ
โ   Manus / Claude / ChatGPT                                  โ
โ           โ                                                 โ
โ           โผ                                                 โ
โ   https://abc123.ngrok.io/run_backtest                     โ
โ           โ                                                 โ
โ           โผ                                                 โ
โ   ุฎุงุฏู MT5 (ุนูู ุฌูุงุฒู Windows)                             โ
โ           โ                                                 โ
โ           โผ                                                 โ
โ   MetaTrader 5 Desktop                                      โ
โ                                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ููุฎุต ุงูุฃูุงูุฑ

```cmd
# ุชุซุจูุช ุงููุชุทูุจุงุช
pip install -r requirements.txt

# ุชุดุบูู ุงูุฎุงุฏู
python main.py

# ุฃู ูุน ุฅุนุงุฏุฉ ุงูุชุญููู ุงูุชููุงุฆู
uvicorn main:app --reload --port 8000

# ุชุดุบูู ngrok ูููุตูู ูู ุงูุฅูุชุฑูุช
ngrok http 8000
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [ ] Python ูุซุจุช ููุถุงู ูู PATH
- [ ] MetaTrader 5 ูุซุจุช ูููุนูู
- [ ] ุงูููุชุจุงุช ูุซุจุชุฉ (pip install)
- [ ] ุงูุฎุงุฏู ูุนูู (python main.py)
- [ ] ูููู ุงููุตูู ูู http://localhost:8000/docs
- [ ] ngrok ูุนูู (ูููุตูู ูู ุงูุฅูุชุฑูุช)

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุฑุงุฌุน ููู ุงูุณุฌู: `mt5_server.log`
2. ุชุฃูุฏ ูู ุฅุบูุงู MT5 ูุจู ุงูุงุชุตุงู ุนุจุฑ API
3. ุฌุฑุจ ุชุดุบูู cmd ูู Administrator

</div>
